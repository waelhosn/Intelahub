APP_NAME=Intelahub Retrieval API
ENVIRONMENT=dev
LOG_LEVEL=INFO

TMDB_API_KEY=your_tmdb_api_key
OPENAI_API_KEY=your_openai_api_key
GEMINI_API_KEY=your_gemini_api_key

TMDB_BASE_URL=https://api.themoviedb.org/3
TMDB_TIMEOUT_SECONDS=20
TMDB_MAX_RETRIES=3
TMDB_REQUESTS_PER_SECOND=3

CHROMA_PERSIST_PATH=./data/chroma
CHROMA_COLLECTION_NAME=movies_v1
CHROMA_DISTANCE_METRIC=cosine

EMBEDDING_PROVIDER=openai
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
GEMINI_EMBEDDING_MODEL=gemini-embedding-001
EMBEDDING_BATCH_SIZE=32

GENERATION_PROVIDER=openai
OPENAI_GENERATION_MODEL=gpt-4.1-mini
GEMINI_GENERATION_MODEL=gemini-2.5-flash

DEFAULT_TOP_K=10
MAX_TOP_K=50

RELEVANCE_THRESHOLD=0.38
ENABLE_NO_RESULTS_SAFETY_CHECK=true
NO_RESULTS_MIN_VECTOR_SCORE=0.35
NO_RESULTS_MIN_LEXICAL_SCORE=0.03

ENABLE_LLM_QUERY_PARSER=true
ENABLE_LLM_QUERY_EXPANSION=true
LLM_QUERY_EXPANSION_MIN_CONFIDENCE=0.75
LLM_QUERY_EXPANSION_TRIGGER_SCORE=0.55
LLM_QUERY_EXPANSION_MAX_QUERY_TOKENS=12
MAX_QUERY_EXPANSION_TERMS=4

RERANKER_MODE=cross_encoder
CROSS_ENCODER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
CROSS_ENCODER_WEIGHT=0.6
WARMUP_CROSS_ENCODER_ON_STARTUP=true
INSTALL_RERANKER=0

RATE_LIMIT_PER_MINUTE=60
INGEST_RATE_LIMIT_PER_MINUTE=6
MAX_QUERY_CHARS=300
MAX_TARGET_COUNT=0
